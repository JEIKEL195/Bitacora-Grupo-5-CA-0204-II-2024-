Para esta parte de las bitácora, nos interes realizar más análisis estadístico entre las variables de la base, con el fin de determinar si existe relación o no entre ellas a través de pruebas estadísticas como lo son la prueba de chi cuadrado y realizar tablas de contingencia. 

```{r, echo=FALSE}
library(readxl)
data_risk <- read_excel("C:/Users/Admin/Downloads/data_risk.xlsx")
View(data_risk)
```

```{r, echo=FALSE}
library(dplyr)
library(tidyr)
data_limpia <- data_risk %>% drop_na()
```

```{r, echo=FALSE}
names(data_limpia)
sapply(data_limpia, function(x) sum(is.na(x)))
str(data_limpia)
```

Debido a la naturaleza de nuestra base de datos, que es categórica, evitaremos transformar los números a datos y graficar. En oposición utilizaremos tablas de contingencias, que son tablas que representan las distribución de datos categóricos en relación con otra variable categórica, por ello, queda de manera más natural hacer análisis estadístico. 


Vamos a realizar una tabla de contingencia en relacion con el nivel educativo, y observar qué nivel educativo presenta el mayor porcentaje de caer en un cierto riesgo crediticio. 

```{r}
library(gmodels)
CrossTable(data_limpia$`Education Level`, data_limpia$`Risk Rating`, prop.chisq = FALSE)
```

De la tabla de contingencia anterior, podemos observar como hay una distribución más o menos similar de todas las categorías, esto se debe a la restricción de la base de datos, que posee una información simétrica, lo que sugiere que la base puede ser generada por IA, sin embargo, esto para el estudio no afecta en gran medida, ya que al tratarse de una investigación de herramientas de ciencias de datos, lo que nos interesa es saber aplicar las pruebas estadísticas y hacer un buen uso de las herramientas de Rstudio para el aprendizaje. 

Por otro lado, continuando el análisis, vamos hacer uso de otra tabla de contingencia para analizar la distribución entre las varibales de Loan Purpose y Risk Rating, ya que otro motivo por el cual las personas pueden caer un cierto riesgo crediticio puede ser por el motivo del préstamo, esto visto de manera teórica. 

```{r}
library(gmodels)
CrossTable(data_limpia$`Loan Purpose`, data_limpia$`Risk Rating`, prop.chisq = FALSE)
```

Una vez realizadas las tablas de contingencia, es bueno realizar una prueba de Chicuadrado, estoo porque queremos ver según esta prueba, el grado de relación que presentan las variables, como hemos mencionado antes, la evidencia teórica indica que existe una relación entre el nivel de estudios y el riesgo crediticio, sin embargo hacemos la prueba, para comprobar si nuestra base de datos sigue este patrón. 

```{r}
chisq.test(table(data_limpia$`Education Level`, data_limpia$`Risk Rating`))
```
De la prueba anterior, entonces podemos observar que se rechaza la hipótesis nula, la cual es $H_0 =$ Existe relación entre las variables, y $H_1 =$ No existe relación entre las variables. Usamos como parámetro de tolerancia un $5%$, que es lo que sugiere la literatura que usemos en estas pruebas de hiótesis. Obtuvimos un valor $p$ de 0.2931, lo que sugiere que la hipótesis nula debe ser rechazada, indicando entonces que dada la evidencia empírica de nuestra base de datos, no hay suficiente información estadística para decir que obtuvimos una relación entre las variables. 

Continuando con al análisis de las variables, ahora vamos a ver cómo se comporta

```{r}
chisq.test(table(data_limpia$`Loan Purpose`, data_limpia$`Risk Rating`))
```




```{r}
chisq.test(table(data_limpia$`Payment History`, data_limpia$`Risk Rating`))
```









### Análisis de modelación

### Construcción de fichas de resultados

### Ordenamiento de los elementos de reporte

## Parte de escritura

## Parte de reflexión